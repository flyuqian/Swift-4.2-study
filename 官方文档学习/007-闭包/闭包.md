#### 闭包

---

```
闭包 是独立代码块，可以在代码中传递使用
可以从代码的上下文中捕获和存储任何变量(这些变量和常量暂时关闭使用)Swift负责捕获的内存管理
```

全局函数和嵌套函数实际上是特殊的闭包

```
全局函数是一个有名字但不会捕获任何值的闭包。
嵌套函数是一个有名字并且可以捕获其封闭函数域内值的闭包。
闭包表达式是一个用轻量语法所写的可以捕获其上下文中变量或常量值的匿名闭包
```

Swift 闭包的优化

```
利用上下文推断参数和返回值类型
单语句表达式的闭包可以隐式返回结果
参数名称缩写
尾随闭包语法
```

- 闭包是一个引用类型
- 闭包作为参数时，在函数返回后闭包才执行，成为闭包逃逸了函数，在声明参数时 加上@escape 表示允许该闭包逃逸，此时你需要显示的使用self 等
- 自动闭包，将一个表达式自动封装为闭包，该闭包没有参数。使用 @autocloure表示

